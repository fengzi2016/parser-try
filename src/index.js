
const html = {
  "nodes": [
    {
      "name": "div",
      "attributes": [
        {
          "name": "class",
          "value": "container",
          "sourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 5,
              "line": 0,
              "col": 5
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 22,
              "line": 0,
              "col": 22
            },
            "details": null
          },
          "valueSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 12,
              "line": 0,
              "col": 12
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 21,
              "line": 0,
              "col": 21
            },
            "details": null
          }
        }
      ],
      "inputs": [],
      "outputs": [],
      "children": [
        {
          "name": "div",
          "attributes": [
            {
              "name": "class",
              "value": "left",
              "sourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 38,
                  "line": 1,
                  "col": 14
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 50,
                  "line": 1,
                  "col": 26
                },
                "details": null
              },
              "valueSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 45,
                  "line": 1,
                  "col": 21
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 49,
                  "line": 1,
                  "col": 25
                },
                "details": null
              }
            }
          ],
          "inputs": [],
          "outputs": [],
          "children": [],
          "references": [],
          "sourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 33,
              "line": 1,
              "col": 9
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 57,
              "line": 1,
              "col": 33
            },
            "details": null
          },
          "startSourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 33,
              "line": 1,
              "col": 9
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 51,
              "line": 1,
              "col": 27
            },
            "details": null
          },
          "endSourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 51,
              "line": 1,
              "col": 27
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 57,
              "line": 1,
              "col": 33
            },
            "details": null
          }
        },
        {
          "name": "div",
          "attributes": [
            {
              "name": "class",
              "value": "right",
              "sourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 72,
                  "line": 2,
                  "col": 14
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 85,
                  "line": 2,
                  "col": 27
                },
                "details": null
              },
              "valueSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 79,
                  "line": 2,
                  "col": 21
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 84,
                  "line": 2,
                  "col": 26
                },
                "details": null
              }
            }
          ],
          "inputs": [],
          "outputs": [],
          "children": [
            {
              "name": "div",
              "attributes": [
                {
                  "name": "class",
                  "value": "red-block",
                  "sourceSpan": {
                    "start": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 103,
                      "line": 3,
                      "col": 16
                    },
                    "end": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 120,
                      "line": 3,
                      "col": 33
                    },
                    "details": null
                  },
                  "valueSpan": {
                    "start": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 110,
                      "line": 3,
                      "col": 23
                    },
                    "end": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 119,
                      "line": 3,
                      "col": 32
                    },
                    "details": null
                  }
                }
              ],
              "inputs": [],
              "outputs": [],
              "children": [],
              "references": [],
              "sourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 98,
                  "line": 3,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 139,
                  "line": 4,
                  "col": 17
                },
                "details": null
              },
              "startSourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 98,
                  "line": 3,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 133,
                  "line": 4,
                  "col": 11
                },
                "details": null
              },
              "endSourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 133,
                  "line": 4,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 139,
                  "line": 4,
                  "col": 17
                },
                "details": null
              }
            },
            {
              "name": "div",
              "attributes": [
                {
                  "name": "class",
                  "value": "grey-block",
                  "sourceSpan": {
                    "start": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 156,
                      "line": 5,
                      "col": 16
                    },
                    "end": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 174,
                      "line": 5,
                      "col": 34
                    },
                    "details": null
                  },
                  "valueSpan": {
                    "start": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 163,
                      "line": 5,
                      "col": 23
                    },
                    "end": {
                      "file": {
                        "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                        "url": "astexplorer.html"
                      },
                      "offset": 173,
                      "line": 5,
                      "col": 33
                    },
                    "details": null
                  }
                }
              ],
              "inputs": [],
              "outputs": [],
              "children": [],
              "references": [],
              "sourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 151,
                  "line": 5,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 193,
                  "line": 6,
                  "col": 17
                },
                "details": null
              },
              "startSourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 151,
                  "line": 5,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 187,
                  "line": 6,
                  "col": 11
                },
                "details": null
              },
              "endSourceSpan": {
                "start": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 187,
                  "line": 6,
                  "col": 11
                },
                "end": {
                  "file": {
                    "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                    "url": "astexplorer.html"
                  },
                  "offset": 193,
                  "line": 6,
                  "col": 17
                },
                "details": null
              }
            }
          ],
          "references": [],
          "sourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 67,
              "line": 2,
              "col": 9
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 98,
              "line": 3,
              "col": 11
            },
            "details": null
          },
          "startSourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 67,
              "line": 2,
              "col": 9
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 98,
              "line": 3,
              "col": 11
            },
            "details": null
          },
          "endSourceSpan": {
            "start": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 203,
              "line": 7,
              "col": 9
            },
            "end": {
              "file": {
                "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
                "url": "astexplorer.html"
              },
              "offset": 209,
              "line": 7,
              "col": 15
            },
            "details": null
          }
        }
      ],
      "references": [],
      "sourceSpan": {
        "start": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 0,
          "line": 0,
          "col": 0
        },
        "end": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 33,
          "line": 1,
          "col": 9
        },
        "details": null
      },
      "startSourceSpan": {
        "start": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 0,
          "line": 0,
          "col": 0
        },
        "end": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 33,
          "line": 1,
          "col": 9
        },
        "details": null
      },
      "endSourceSpan": {
        "start": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 218,
          "line": 8,
          "col": 8
        },
        "end": {
          "file": {
            "content": "<div class=\"container\">\n         <div class=\"left\"></div>\n         <div class=\"right\">\n           <div class=\"red-block\">\n           </div>\n           <div class=\"grey-block\">\n           </div>\n         </div>\n        </div>",
            "url": "astexplorer.html"
          },
          "offset": 224,
          "line": 8,
          "col": 14
        },
        "details": null
      }
    }
  ],
  "styleUrls": [],
  "styles": []
};

const css = {
  "parentStyleSheet": null,
  "cssRules": [
    {
      "parentRule": null,
      "parentStyleSheet": "[Circular ~]",
      "selectorText": ".container",
      "style": {
        "0": "direction",
        "length": 1,
        "parentRule": "[Circular ~.cssRules.0]",
        "_importants": {
          "direction": ""
        },
        "__starts": 12,
        "direction": "horizontal"
      },
      "__starts": 1,
      "__ends": 52
    },
    {
      "parentRule": null,
      "parentStyleSheet": "[Circular ~]",
      "selectorText": ".left",
      "style": {
        "0": "height",
        "1": "width",
        "2": "color",
        "length": 3,
        "parentRule": "[Circular ~.cssRules.1]",
        "_importants": {
          "height": "",
          "width": "",
          "color": ""
        },
        "__starts": 65,
        "height": "200px",
        "width": "100px",
        "color": "black"
      },
      "__starts": 59,
      "__ends": 141
    },
    {
      "parentRule": null,
      "parentStyleSheet": "[Circular ~]",
      "selectorText": ".right",
      "style": {
        "0": "height",
        "1": "width",
        "2": "color",
        "length": 3,
        "parentRule": "[Circular ~.cssRules.2]",
        "_importants": {
          "height": "",
          "width": "",
          "color": ""
        },
        "__starts": 155,
        "height": "200px",
        "width": "200px",
        "color": "green"
      },
      "__starts": 148,
      "__ends": 231
    },
    {
      "parentRule": null,
      "parentStyleSheet": "[Circular ~]",
      "selectorText": ".red-block",
      "style": {
        "0": "height",
        "1": "width",
        "2": "color",
        "length": 3,
        "parentRule": "[Circular ~.cssRules.3]",
        "_importants": {
          "height": "",
          "width": "",
          "color": ""
        },
        "__starts": 249,
        "height": "50px",
        "width": "50px",
        "color": "red"
      },
      "__starts": 238,
      "__ends": 321
    },
    {
      "parentRule": null,
      "parentStyleSheet": "[Circular ~]",
      "selectorText": ".grey-block",
      "style": {
        "0": "height",
        "1": "width",
        "2": "color",
        "length": 3,
        "parentRule": "[Circular ~.cssRules.4]",
        "_importants": {
          "height": "",
          "width": "",
          "color": ""
        },
        "__starts": 340,
        "height": "100px",
        "width": "100px",
        "color": "grey"
      },
      "__starts": 328,
      "__ends": 415
    }
  ]
};

function changePXToNumber(str) {
  if(!str) return 0;
  return Number(str.match(/\d+/) ) | 0;
}

function setCSSToHtml(nodes, css) {
 return nodes.map(node => {
    if(node.attributes) {
      const len = node.attributes.length;
      const newNode = node;
      for(let i = len - 1 ; i >= 0; i--){
        const att = node.attributes[i];
        if(att.name !== 'class') continue;
        const { style } = css.cssRules.find((rule) => {
          return rule.selectorText === `.${att.value}`;
        });
        newNode.style = style;
        break;
      }
      if(node.children) {
        setCSSToHtml(node.children, css);
      }
      return newNode;
    }
  });
}

const basePosition = {x: 0, y: 0};

function getNextRelativePosition(position, node) {
  const newNode = {...node};
  const height =  changePXToNumber(node.style.height);
  const width = changePXToNumber(node.style.width);
  switch(node.parentDirector) {
    case "horizontal" : {
      newNode.position = {
        x: position.x + width,
        y: position.y
      };
      break;
    }
    default: newNode.position = {
      x: position.x,
      y: position.y + height,
    };

    break;
  }
  

  return newNode;
}

function computePosition(position, nodes) {
  let newPosition = position;

  for(let i = 0; i < nodes.length; i++) {
      
    const node = nodes[i];
      
    if(node.children) {
      const direction = node.style.direction;
      node.children.map((child) => {
        child.parentDirector = direction;
        return child;
      })

    }
      
      if(i === 0) {
       console.log('')
        node.position = position;
        console.log('first node', node)
        if(node.children) {
          computePosition(node.position, node.children);
        }
        continue;
      }
    
      
      node.position = newPosition = getNextRelativePosition(newPosition, nodes[i-1]).position;
      if(node.children) {
        computePosition(node.position, node.children);
        
      }
       
    
  }

}

const nodes = setCSSToHtml(html.nodes, css);
computePosition(basePosition, nodes);

const paint = (nodes) => {
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext('2d');
  nodes.forEach(node => {
    ctx.fillStyle = node.style.color;
    console.log(node.position.x, node.position.y, changePXToNumber(node.style.width), changePXToNumber(node.style.height))
    ctx.fillRect(node.position.x, node.position.y, changePXToNumber(node.style.width), changePXToNumber(node.style.height));
    if(node.children) {
      paint(node.children);
    }
  });
  
}

paint(html.nodes);